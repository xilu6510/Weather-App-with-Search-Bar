{"ast":null,"code":"import React,{useState}from\"react\";import\"./Weather.css\";import axios from\"axios\";import cities from\"cities.json\";import search_icon from\"../Assets/search.png\";import wind_icon from\"../Assets/wind.png\";import humidity_icon from\"../Assets/humidity.png\";import question_mark from\"../Assets/question-mark.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Weather=()=>{let api_key=\"e28b36a32d1041b6adbc18b037cc26e6\";const[value,setValue]=useState(\"\");const onChange=e=>{setValue(e.target.value);};const[data,setData]=useState({img:\"question-mark\",temp:\"xx °C\",location:\"///////\",humidity:\"xx %\",wind:\"xx km/h\"});const[err,setErr]=useState(\"\");const search=()=>{setErr(\"\");// const inputValue = document.getElementsByClassName(\"cityInput\");\nif(value===\"\"){return 0;}let url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(value,\"&units=Metric&appid=\").concat(api_key);axios.get(url).then(response=>{setData({img:response.data.weather[0].icon,temp:Math.round(response.data.main.temp)+\"°C\",location:response.data.name,humidity:Math.round(response.data.main.humidity)+\"%\",wind:Math.round(response.data.wind.speed)+\"km/h\"});}).catch(error=>{setValue(\"\");setErr(\"Invalid City Name, Please Try Agian!! ;)\");setData({img:question_mark,temp:\"xx °C\",location:\"///////\",humidity:\"xx %\",wind:\"xx km/h\"});});setValue(\"\");};const onSearch=cityNamePara=>{setValue(cityNamePara);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cityInput\",placeholder:\"search\",value:value,onChange:onChange,onKeyDown:e=>{if(e.key===\"Enter\")search();}}),/*#__PURE__*/_jsx(\"div\",{className:\"search-icon\",onClick:search,children:/*#__PURE__*/_jsx(\"img\",{src:search_icon,alt:\"\",className:\"search_icons\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"city-list\",children:cities.filter(item=>{const searchTerm=value.toLocaleLowerCase();const cityName=item.name.toLocaleLowerCase();return searchTerm&&cityName.startsWith(searchTerm)&&cityName!==searchTerm;}).slice(0,5).map(cityList=>{return/*#__PURE__*/_jsx(\"div\",{className:\"city-list-item\",onClick:()=>onSearch(cityList.name),children:cityList.name},cityList.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:err}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-image\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../Assets/\".concat(data.img,\".png\")),alt:\"\",className:\"big_icons\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-temp\",children:data.temp}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-location\",children:data.location}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:humidity_icon,alt:\"\",className:\"icon small_icons\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"humidity-percent\",children:data.humidity}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Humidity\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:wind_icon,alt:\"\",className:\"icon small_icons\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wind-rate\",children:data.wind}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Wind Speed\"})]})]})]})]});};export default Weather;","map":{"version":3,"names":["React","useState","axios","cities","search_icon","wind_icon","humidity_icon","question_mark","jsx","_jsx","jsxs","_jsxs","Weather","api_key","value","setValue","onChange","e","target","data","setData","img","temp","location","humidity","wind","err","setErr","search","url","concat","get","then","response","weather","icon","Math","round","main","name","speed","catch","error","onSearch","cityNamePara","className","children","type","placeholder","onKeyDown","key","onClick","src","alt","filter","item","searchTerm","toLocaleLowerCase","cityName","startsWith","slice","map","cityList","id","require"],"sources":["/Users/lucylu/Desktop/projects/weather/src/Components/Weather/Weather.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Weather.css\";\nimport axios from \"axios\";\nimport cities from \"cities.json\";\n\nimport search_icon from \"../Assets/search.png\";\nimport wind_icon from \"../Assets/wind.png\";\nimport humidity_icon from \"../Assets/humidity.png\";\nimport question_mark from \"../Assets/question-mark.png\";\n\nconst Weather = () => {\n  let api_key = \"e28b36a32d1041b6adbc18b037cc26e6\";\n\n  const [value, setValue] = useState(\"\");\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  const [data, setData] = useState({\n    img: \"question-mark\",\n    temp: \"xx °C\",\n    location: \"///////\",\n    humidity: \"xx %\",\n    wind: \"xx km/h\",\n  });\n\n  const [err, setErr] = useState(\"\");\n\n  const search = () => {\n    setErr(\"\");\n    // const inputValue = document.getElementsByClassName(\"cityInput\");\n\n    if (value === \"\") {\n      return 0;\n    }\n\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${value}&units=Metric&appid=${api_key}`;\n\n    axios\n      .get(url)\n      .then((response) => {\n        setData({\n          img: response.data.weather[0].icon,\n          temp: Math.round(response.data.main.temp) + \"°C\",\n          location: response.data.name,\n          humidity: Math.round(response.data.main.humidity) + \"%\",\n          wind: Math.round(response.data.wind.speed) + \"km/h\",\n        });\n      })\n      .catch((error) => {\n        setValue(\"\");\n        setErr(\"Invalid City Name, Please Try Agian!! ;)\");\n        setData({\n          img: question_mark,\n          temp: \"xx °C\",\n          location: \"///////\",\n          humidity: \"xx %\",\n          wind: \"xx km/h\",\n        });\n      });\n    setValue(\"\");\n  };\n\n  const onSearch = (cityNamePara) => {\n    setValue(cityNamePara);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"top-bar\">\n        <input\n          type=\"text\"\n          className=\"cityInput\"\n          placeholder=\"search\"\n          value={value}\n          onChange={onChange}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") search();\n          }}\n        />\n\n        <div className=\"search-icon\" onClick={search}>\n          <img src={search_icon} alt=\"\" className=\"search_icons\" />\n        </div>\n      </div>\n\n      <div className=\"city-list\">\n        {cities\n          .filter((item) => {\n            const searchTerm = value.toLocaleLowerCase();\n            const cityName = item.name.toLocaleLowerCase();\n\n            return (\n              searchTerm &&\n              cityName.startsWith(searchTerm) &&\n              cityName !== searchTerm\n            );\n          })\n          .slice(0, 5)\n          .map((cityList) => {\n            return (\n              <div\n                className=\"city-list-item\"\n                key={cityList.id}\n                onClick={() => onSearch(cityList.name)}\n              >\n                {cityList.name}\n              </div>\n            );\n          })}\n      </div>\n\n      <p className=\"error-message\">{err}</p>\n      <div className=\"weather-image\">\n        <img\n          src={require(`../Assets/${data.img}.png`)}\n          alt=\"\"\n          className=\"big_icons\"\n        />\n      </div>\n      <div className=\"weather-temp\">{data.temp}</div>\n      <div className=\"weather-location\">{data.location}</div>\n      <div className=\"data-container\">\n        <div className=\"element\">\n          <img src={humidity_icon} alt=\"\" className=\"icon small_icons\" />\n          <div className=\"data\">\n            <div className=\"humidity-percent\">{data.humidity}</div>\n            <div className=\"text\">Humidity</div>\n          </div>\n        </div>\n        <div className=\"element\">\n          <img src={wind_icon} alt=\"\" className=\"icon small_icons\" />\n          <div className=\"data\">\n            <div className=\"wind-rate\">{data.wind}</div>\n            <div className=\"text\">Wind Speed</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Weather;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}